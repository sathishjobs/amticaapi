(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{155:function(e,t,n){},242:function(e,t,n){e.exports=n(403)},247:function(e,t,n){},252:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},253:function(e,t,n){},259:function(e,t,n){},403:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(77),i=n.n(o),c=(n(247),n(37)),s=n(38),l=n(53),u=n(48),p=n(54),d=n(29),m=(n(252),n(253),n(17)),h=n(166),g=n(210),f=n.n(g),b=n(211),v=n(421),E=n(59),O={USER_SIGN_IN:"USER_SIGN_IN",USER_SIGN_UP:"USER_SIGN_UP",USER_SIGN_OUT:"USER_SIGN_OUT"},w={data:null,isLoggedIn:!1},y=Object(m.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.USER_SIGN_IN:case O.USER_SIGN_UP:return Object(E.a)({},e,{data:t.data,isLoggedIn:!0});case O.USER_SIGN_OUT:return Object(E.a)({},e,{data:null,isLoggedIn:!1});default:return e}},form:v.a}),j=[b.a],S={key:"root",storage:f.a},I=Object(h.a)(S,y),x=Object(m.e)(I,void 0,Object(m.d)(m.a.apply(void 0,j))),U={store:x,persistor:Object(h.b)(x)},k=n(213),_=function(e){return r.a.createElement("div",null,r.a.createElement("h3",null,"Loading..."))},N=n(22),A=n.n(N),L=n(35),R=n(419),G=n(418),C=n(414),T=n(417),W=n(133),P=n(416),q=(n(259),function(e){var t=e.input,n=e.containerStyle,a=e.label,o=(e.errorMsg,e.labelStyle,e.inputType),i=void 0===o?"text":o,c=e.placeholder,s=e.meta,l=s.touched,u=s.error,p=Object(W.a)(e,["input","containerStyle","label","errorMsg","labelStyle","inputType","placeholder","meta"]);return r.a.createElement("div",{style:n,className:"inputWrapper"},r.a.createElement(C.a.Field,null,r.a.createElement("label",null,a),"textarea"!==i?r.a.createElement("input",Object.assign({type:i,placeholder:c},t,p)):r.a.createElement(C.a.TextArea,Object.assign({placeholder:c},t,p))),u&&l&&r.a.createElement(P.a,{color:"red",size:"mini"},u))}),z=n(415),D=n(413),F=n(69),M=n(70),Z=n.n(M);Z.a.defaults.baseURL="https://amticachallange.herokuapp.com/",Z.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded";var $=new(function(){function e(){Object(c.a)(this,e),this.path="user"}return Object(s.a)(e,[{key:"signin",value:function(){var e=Object(L.a)(A.a.mark(function e(t){var n,a;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.a.post("".concat(this.path,"/signin"),Object(E.a)({},t));case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"signUp",value:function(){var e=Object(L.a)(A.a.mark(function e(t){var n,a;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.a.post("".concat(this.path,"/signup"),Object(E.a)({},t));case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"isUserExist",value:function(){var e=Object(L.a)(A.a.mark(function e(t){var n,a;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.a.post("".concat(this.path,"/isUserExist"),Object(E.a)({},t));case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()}]),e}()),B=n(405);function H(e){return{type:O.USER_SIGN_IN,data:e}}function J(e){return{type:O.USER_SIGN_UP,data:e}}n(155);var K=n(423),Q=n(412),V=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,loggedIn:!1},n._handleSignIn=function(){var e=Object(L.a)(A.a.mark(function e(t){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.setState({loading:!0}),e.next=4,n.props.signIn(t);case 4:e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:return e.prev=10,n.mounted&&n.setState({loading:!1}),e.finish(10);case 13:case"end":return e.stop()}},e,this,[[0,7,10,13]])}));return function(t){return e.apply(this,arguments)}}(),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentDidUpdate",value:function(e){this.props.user.isLoggedIn!=e.user.isLoggedIn&&this.setState({loggedIn:this.props.user.isLoggedIn})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=(this.props.location.state||{from:{pathname:"/"}}).from;return this.state.loggedIn?r.a.createElement(K.a,{to:e}):r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(R.a,{textAlign:"center",verticalAlign:"middle"},r.a.createElement(R.a.Column,{style:{maxWidth:450}},r.a.createElement(G.a,{className:"textColor",as:"h2",color:"blue",textAlign:"center"},"Amtica"),r.a.createElement("br",null),r.a.createElement(C.a,{onSubmit:this.props.handleSubmit(this._handleSignIn)},r.a.createElement(z.a,{component:q,name:"email",label:"",containerStyle:{},placeholder:"Email address"}),r.a.createElement(z.a,{component:q,name:"password",label:"",containerStyle:{},inputType:"password",placeholder:"Password"}),r.a.createElement("br",null),r.a.createElement(T.a,{loading:this.state.loading,disabled:this.props.submitting,basic:!0,fluid:!0,color:"blue",content:"Sign In"}),r.a.createElement("div",{style:{marginTop:"6px",textAlign:"left"}},r.a.createElement(Q.a,{to:"/signup"},"Click here to Sign Up"))))))}}]),t}(a.Component);V=Object(D.a)({form:"signin",validate:function(e){var t={};e.email||(t.email="Email address is required");return e.email&&!/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.email)&&(t.email="Email is invalid !"),e.password||(t.password="Password is required"),t}})(V);var X=Object(d.b)(function(e){return{user:e.user}},{signIn:function(e){return function(){var t=Object(L.a)(A.a.mark(function t(n){var a,r;return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$.signin(e);case 3:a=t.sent,n(H(a)),t.next=12;break;case 7:if(t.prev=7,t.t0=t.catch(0),!(t.t0.response&&t.t0.response.data&&t.t0.response.data.error)){t.next=11;break}throw new B.a((r={},Object(F.a)(r,t.t0.response.data.field,t.t0.response.data.message),Object(F.a)(r,"_error","Login Failed"),r));case 11:throw t.t0;case 12:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()}})(V),Y=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,loggedIn:!1},n._handleSignUp=function(){var e=Object(L.a)(A.a.mark(function e(t){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.setState({loading:!0}),e.next=4,n.props.signUp(t);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:return e.prev=9,n.mounted&&n.setState({loading:!1}),e.finish(9);case 12:case"end":return e.stop()}},e,this,[[0,6,9,12]])}));return function(t){return e.apply(this,arguments)}}(),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentDidUpdate",value:function(e){this.props.user.isLoggedIn!==e.user.isLoggedIn&&this.setState({loggedIn:this.props.user.isLoggedIn})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=(this.props.location.state||{from:{pathname:"/"}}).from;return this.state.loggedIn?r.a.createElement(K.a,{to:e}):r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(R.a,{textAlign:"center",verticalAlign:"middle"},r.a.createElement(R.a.Column,{style:{maxWidth:450}},r.a.createElement(G.a,{className:"textColor",as:"h2",color:"blue",textAlign:"center"},"Amtica"),r.a.createElement("br",null),r.a.createElement(C.a,{onSubmit:this.props.handleSubmit(this._handleSignUp)},r.a.createElement(z.a,{component:q,name:"name",label:"",containerStyle:{},placeholder:"Name"}),r.a.createElement(z.a,{component:q,name:"email",label:"",containerStyle:{},placeholder:"Email address"}),r.a.createElement(z.a,{component:q,name:"password",label:"",containerStyle:{},inputType:"password",placeholder:"Password"}),r.a.createElement("br",null),r.a.createElement(T.a,{loading:this.state.loading,disabled:this.props.submitting,basic:!0,fluid:!0,color:"blue",content:"Sign Up"}),r.a.createElement("div",{className:"authActionWrapper"},r.a.createElement(Q.a,{to:"/signin"},"Already have account Sign In "))))))}}]),t}(a.Component);Y=Object(D.a)({form:"signup",validate:function(e){var t={};e.email||(t.email="Email address is required");return e.name||(t.name="Name is required!"),e.email&&!/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.email)&&(t.email="Email is invalid!"),e.password||(t.password="Password is required!"),t}})(Y);var ee=Object(d.b)(function(e){return{user:e.user}},{signUp:function(e){return function(){var t=Object(L.a)(A.a.mark(function t(n){var a,r;return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$.signUp(e);case 3:a=t.sent,n(J(a)),t.next=12;break;case 7:if(t.prev=7,t.t0=t.catch(0),!(t.t0.response&&t.t0.response.data&&t.t0.response.data.error)){t.next=11;break}throw new B.a((r={},Object(F.a)(r,t.t0.response.data.field,t.t0.response.data.message),Object(F.a)(r,"_error","Login Failed"),r));case 11:throw t.t0;case 12:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()}})(Y),te=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},n.handleLogout=function(){n.props.signOut()},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"homeWrapper"},r.a.createElement("h3",null,"Hi ".concat(this.props.user.data.name," Welcome to Home :)")),r.a.createElement(T.a,{onClick:this.handleLogout,primary:!0},"Logout"))}}]),t}(a.Component),ne=Object(d.b)(function(e){return{user:e.user}},{signOut:function(){return{type:O.USER_SIGN_OUT,data:null}}})(te),ae=n(422),re=Object(d.b)(function(e){return console.log("private is triggered"),{user:e.user}},{})(function(e){var t=e.user,n=e.component,a=Object(W.a)(e,["user","component"]);return r.a.createElement(ae.a,Object.assign({},a,{render:function(e){return t.isLoggedIn?r.a.createElement(n,e):r.a.createElement(K.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))}),oe=n(420),ie=function(e){return console.log("From Root Wrapper"),console.log(e),r.a.createElement(oe.a,null,r.a.createElement("div",null,r.a.createElement(ae.a,{path:"/signin",component:X}),r.a.createElement(ae.a,{path:"/signup",component:ee}),r.a.createElement(re,{path:"/",component:ne})))};U.persistor.purge();var ce=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{store:U.store},r.a.createElement(k.a,{loading:r.a.createElement(_,null),persistor:U.persistor},r.a.createElement(ie,null)))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[242,2,1]]]);
//# sourceMappingURL=main.d3ae2eeb.chunk.js.map